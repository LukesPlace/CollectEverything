import{d as G,f as b,y as C,z as ne,w as Z,A as re,c as ae,n as oe,e as k,B as ie,t as D,o as se,_ as le,i as ue,C as ce}from"./index-CCUOU0ia.js";function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(r){y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function de(e){var t=fe(e,"string");return typeof t=="symbol"?t:t+""}function O(e){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(e)}function y(e,t,n){return t=de(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function me(e,t){if(e==null)return{};var n=ye(e,t),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)r=u[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H={exports:{}};(function(e){(function(t){var n=function(o,s,m){if(!l(s)||g(s)||q(s)||ee(s)||a(s))return s;var p,I=0,T=0;if(d(s))for(p=[],T=s.length;I<T;I++)p.push(n(o,s[I],m));else{p={};for(var P in s)Object.prototype.hasOwnProperty.call(s,P)&&(p[o(P,m)]=n(o,s[P],m))}return p},r=function(o,s){s=s||{};var m=s.separator||"_",p=s.split||/(?=[A-Z])/;return o.split(p).join(m)},i=function(o){return te(o)?o:(o=o.replace(/[\-_\s]+(.)?/g,function(s,m){return m?m.toUpperCase():""}),o.substr(0,1).toLowerCase()+o.substr(1))},u=function(o){var s=i(o);return s.substr(0,1).toUpperCase()+s.substr(1)},c=function(o,s){return r(o,s).toLowerCase()},f=Object.prototype.toString,a=function(o){return typeof o=="function"},l=function(o){return o===Object(o)},d=function(o){return f.call(o)=="[object Array]"},g=function(o){return f.call(o)=="[object Date]"},q=function(o){return f.call(o)=="[object RegExp]"},ee=function(o){return f.call(o)=="[object Boolean]"},te=function(o){return o=o-0,o===o},x=function(o,s){var m=s&&"process"in s?s.process:s;return typeof m!="function"?o:function(p,I){return m(p,o,I)}},N={camelize:i,decamelize:c,pascalize:u,depascalize:c,camelizeKeys:function(o,s){return n(x(i,s),o)},decamelizeKeys:function(o,s){return n(x(c,s),o,s)},pascalizeKeys:function(o,s){return n(x(u,s),o)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=N:t.humps=N})(pe)})(H);var ve=H.exports,be=["class","style"];function he(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),i=ve.camelize(n.slice(0,r)),u=n.slice(r+1).trim();return t[i]=u,t},{})}function ge(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function J(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(a){return J(a)}),i=Object.keys(e.attributes||{}).reduce(function(a,l){var d=e.attributes[l];switch(l){case"class":a.class=ge(d);break;case"style":a.style=he(d);break;default:a.attrs[l]=d}return a},{attrs:{},class:{},style:{}});n.class;var u=n.style,c=u===void 0?{}:u,f=me(n,be);return re(e.tag,v(v(v({},t),{},{class:i.class,style:v(v({},i.style),c)},i.attrs),f),r)}var Q=!1;try{Q=!0}catch{}function we(){if(!Q&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function S(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?y({},e,t):{}}function Ie(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},y(y(y(y(y(y(y(y(y(y(t,"fa-".concat(e.size),e.size!==null),"fa-rotate-".concat(e.rotation),e.rotation!==null),"fa-pull-".concat(e.pull),e.pull!==null),"fa-swap-opacity",e.swapOpacity),"fa-bounce",e.bounce),"fa-shake",e.shake),"fa-beat",e.beat),"fa-fade",e.fade),"fa-beat-fade",e.beatFade),"fa-flash",e.flash),y(y(t,"fa-spin-pulse",e.spinPulse),"fa-spin-reverse",e.spinReverse));return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function W(e){if(e&&O(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(C.icon)return C.icon(e);if(e===null)return null;if(O(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var Te=G({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var r=n.attrs,i=b(function(){return W(t.icon)}),u=b(function(){return S("classes",Ie(t))}),c=b(function(){return S("transform",typeof t.transform=="string"?C.transform(t.transform):t.transform)}),f=b(function(){return S("mask",W(t.mask))}),a=b(function(){return ne(i.value,v(v(v(v({},u.value),c.value),f.value),{},{symbol:t.symbol,title:t.title,titleId:t.titleId,maskId:t.maskId}))});Z(a,function(d){if(!d)return we("Could not find one or more icon(s)",i.value,f.value)},{immediate:!0});var l=b(function(){return a.value?J(a.value.abstract[0],{},r):null});return function(){return l.value}}});const Oe={class:"progress-text"},Be=G({__name:"ProgressBar",props:{completedItems:{},totalItems:{}},setup(e){const t=e,n=b(()=>{const r=Math.round(t.completedItems/t.totalItems*100);return isNaN(r)?0:r});return(r,i)=>(se(),ae("div",{class:oe(["progress-bar-container",{completed:n.value===100}])},[k("div",{class:"progress-bar",style:ie({width:`${n.value}%`})},null,4),k("span",Oe,D(t.completedItems)+"/"+D(t.totalItems)+" - "+D(n.value)+"%",1)],2))}}),ke=le(Be,[["__scopeId","data-v-2a45253a"]]),A=(e,t)=>t.some(n=>e instanceof n);let F,R;function xe(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pe(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z=new WeakMap,_=new WeakMap,B=new WeakMap;function De(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(h(e.result)),i()},c=()=>{r(e.error),i()};e.addEventListener("success",u),e.addEventListener("error",c)});return B.set(t,e),t}function Se(e){if(z.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),i()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});z.set(e,t)}let E={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return z.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return h(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function X(e){E=e(E)}function _e(e){return Pe().includes(e)?function(...t){return e.apply(L(this),t),h(this.request)}:function(...t){return h(e.apply(L(this),t))}}function je(e){return typeof e=="function"?_e(e):(e instanceof IDBTransaction&&Se(e),A(e,xe())?new Proxy(e,E):e)}function h(e){if(e instanceof IDBRequest)return De(e);if(_.has(e))return _.get(e);const t=je(e);return t!==e&&(_.set(e,t),B.set(t,e)),t}const L=e=>B.get(e);function Ce(e,t,{blocked:n,upgrade:r,blocking:i,terminated:u}={}){const c=indexedDB.open(e,t),f=h(c);return r&&c.addEventListener("upgradeneeded",a=>{r(h(c.result),a.oldVersion,a.newVersion,h(c.transaction),a)}),n&&c.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),f.then(a=>{u&&a.addEventListener("close",()=>u()),i&&a.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),f}const Ae=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],j=new Map;function V(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(j.get(t))return j.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ae.includes(n)))return;const u=async function(c,...f){const a=this.transaction(c,i?"readwrite":"readonly");let l=a.store;return r&&(l=l.index(f.shift())),(await Promise.all([l[n](...f),i&&a.done]))[0]};return j.set(t,u),u}X(e=>({...e,get:(t,n,r)=>V(t,n)||e.get(t,n,r),has:(t,n)=>!!V(t,n)||e.has(t,n)}));const Ee=["continue","continuePrimaryKey","advance"],U={},M=new WeakMap,Y=new WeakMap,Le={get(e,t){if(!Ee.includes(t))return e[t];let n=U[t];return n||(n=U[t]=function(...r){M.set(this,Y.get(this)[t](...r))}),n}};async function*Me(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,Le);for(Y.set(n,t),B.set(n,L(t));t;)yield n,t=await(M.get(n)||t.continue()),M.delete(n)}function $(e,t){return t===Symbol.asyncIterator&&A(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&A(e,[IDBIndex,IDBObjectStore])}X(e=>({...e,get(t,n,r){return $(t,n)?Me:e.get(t,n,r)},has(t,n){return $(t,n)||e.has(t,n)}}));let w=null;function Ke(){const e=ue([]);let t=!1;async function n(){t||(w=await Ce("collections-db",1,{upgrade(a){a.objectStoreNames.contains("collections")||a.createObjectStore("collections",{keyPath:"id"})}}),e.value=await w.getAll("collections"),t=!0)}n();function r(a){return a?e.value.find(l=>l.slug===a)??null:null}async function i(a){if(!w)return;const l=ce(a);await w.put("collections",l);const d=e.value.findIndex(g=>g.id===a.id);d!==-1?e.value[d]=l:e.value.push(l)}async function u(a){const l={id:crypto.randomUUID(),name:a,slug:a.toLowerCase().replace(/\s+/g,"-"),items:[]};return await i(l),l}async function c(a,l){const d=r(a);if(!d)return null;const g={...l,id:crypto.randomUUID()};return d.items.push(g),await i(d),g}async function f(a){w&&(await w.delete("collections",a),e.value=e.value.filter(l=>l.id!==a))}return Z(e,async a=>{for(const l of a)await i(l)},{deep:!0}),{collections:e,getCollection:r,initDB:n,addCollection:u,addItemToCollection:c,saveCollection:i,removeCollection:f}}export{Te as F,ke as P,Ke as u};
