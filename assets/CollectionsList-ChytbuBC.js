import{d as A,r as p,e as F,c as v,a as e,t as w,x as R,b as I,o as m,_ as U,s as L,F as D,f as P,l as b,j as C,q as $,w as T,h as j,g as x,y as q}from"./index-CScCdbWE.js";import{u as M,P as X,F as N}from"./ProgressBar-CQVVXJl6.js";const z={key:0,class:"dialog-overlay"},G={class:"dialog-content"},H={class:"dialog-header"},J={class:"default-text"},K={class:"dialog-body"},O={class:"dialog-footer"},Q=A({__name:"ConfirmationDialog",props:{title:{},show:{type:Boolean},isDeleteDialog:{type:Boolean}},emits:["close","save","delete"],setup(k,{emit:u}){const c=k,n=p(c.show);F(()=>c.show,d=>{n.value=d});const a=u;function i(){n.value=!1,a("close")}function l(){a("save")}function _(){a("delete")}return(d,g)=>n.value?(m(),v("div",z,[e("div",G,[e("header",H,[e("h2",J,w(d.title),1),e("button",{onClick:i,class:"dialog-close-btn"},"X")]),e("div",K,[R(d.$slots,"default",{},void 0)]),e("footer",O,[e("button",{onClick:i,class:"secondary-btn"},"Cancel"),d.isDeleteDialog?(m(),v("button",{key:1,onClick:_,class:"delete-btn"},"Delete")):(m(),v("button",{key:0,onClick:l,class:"primary-btn"},"Save"))])])])):I("",!0)}}),S=U(Q,[["__scopeId","data-v-eda19d7d"]]),W={class:"collections"},Y={class:"table-container"},Z=["onClick"],ee={class:"actions"},te=["onClick"],oe=["onClick"],le={class:"default-text"},se={class:"emphasis-text"},ie=A({__name:"CollectionsList",setup(k){const u=p(!1),c=p(!1),n=p(null),a=p(null),i=M();i.loadCollection();const{collections:l}=L(i);function _(s){var t;n.value=((t=l.value)==null?void 0:t.find(o=>o.id==s))??null,a.value=n.value.name,u.value=!0}function d(s){var t;n.value=((t=l.value)==null?void 0:t.find(o=>o.id==s))??null,a.value=n.value.name,c.value=!0}function g(){u.value=!1,c.value=!1}function B(){n.value.name=a.value,u.value=!1,i.saveCollection()}function V(){var t,o;const s=((t=l==null?void 0:l.value)==null?void 0:t.find(r=>{var f;return r.id==((f=n.value)==null?void 0:f.id)}))??null;i.collections=(o=l==null?void 0:l.value)==null?void 0:o.filter(r=>r.id!==(s==null?void 0:s.id)),c.value=!1,i.saveCollection()}function y(){var t;const s={id:crypto.randomUUID(),name:"New Collection",items:[]};(t=l.value)==null||t.push(s),i.saveCollection()}function E(s){q.push(s)}return(s,t)=>(m(),v(D,null,[e("div",W,[t[2]||(t[2]=e("h1",{class:"header"},"All Collections",-1)),e("button",{onClick:y,class:"mobile primary-btn"},"Add new"),e("div",Y,[e("table",null,[t[1]||(t[1]=e("thead",null,[e("tr",null,[e("th",{class:"collection-name-header"},"Collection Name"),e("th",{class:"progress-bar-header"}),e("th",{class:"actions-header"},"Actions")])],-1)),e("tbody",null,[(m(!0),v(D,null,P(b(l),o=>{var r,f;return m(),v("tr",{key:o.id,class:"clickable-row"},[e("td",{class:"collection-name",onClick:h=>E(`/collection/${o.name}`)},w(o.name),9,Z),e("td",null,[C(X,{"completed-items":((r=o.items)==null?void 0:r.filter(h=>h.completed==!0).length)??0,"total-items":((f=o.items)==null?void 0:f.length)??0},null,8,["completed-items","total-items"])]),e("td",ee,[e("button",{onClick:h=>_(o.id),class:"primary-btn"},[C(b(N),{icon:["fas","pen"]})],8,te),e("button",{onClick:h=>d(o.id),class:"delete-btn delete-icon"},[C(b(N),{icon:["fas","trash"]})],8,oe)])])}),128)),e("tr",{key:"newRow"},[e("td",{colspan:"3",class:"add-new"},[e("button",{onClick:y,class:"primary-btn"},"Add new")])])])])])]),C(S,{title:"Edit collection",show:u.value,onClose:g,onSave:B},{default:$(()=>[e("div",null,[t[3]||(t[3]=e("span",{class:"default-text"},"Collection Name",-1)),T(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>a.value=o)},null,512),[[j,a.value]])])]),_:1},8,["show"]),C(S,{title:"Delete collection?",show:c.value,"is-delete-dialog":!0,onClose:g,onDelete:V},{default:$(()=>[e("div",null,[e("span",le,[t[4]||(t[4]=x("Really delete this collection ")),e("strong",se,w(a.value),1),t[5]||(t[5]=x("?"))])])]),_:1},8,["show"])],64))}});export{ie as default};
