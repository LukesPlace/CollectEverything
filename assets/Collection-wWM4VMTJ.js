import{d as M,u as H,o as v,c as w,w as D,v as ce,a as d,_ as I,t as W,b as q,r as k,e as de,f as z,g as x,h as ue,i as P,n as te,F as oe,j as me,s as fe,k as pe,l as he,m as ve}from"./index-wVU5G0WK.js";import{u as ne,F as ge,P as we}from"./ProgressBar-DYbnFix6.js";const be={class:"checkbox-container"},ye=M({__name:"Checkbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=H(e,"modelValue");return(n,o)=>(v(),w("label",be,[D(d("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s)},null,512),[[ce,t.value]]),o[1]||(o[1]=d("span",{class:"checkmark"},null,-1)),o[2]||(o[2]=d("span",{class:"checkbox-label"},"Completed",-1))]))}}),_e=I(ye,[["__scopeId","data-v-047e0793"]]),Ce={class:"file-input-container"},ke={class:"file-input-label",for:"file-upload"},xe={key:0,class:"file-name"},Ee=M({__name:"FileInput",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=H(e,"modelValue");function n(o){const s=o.target.files[0];if(s){const i=new FileReader;i.onload=()=>{typeof i.result=="string"&&(t.value=i.result)},i.readAsDataURL(s)}}return(o,s)=>(v(),w("div",Ce,[d("label",ke,[s[0]||(s[0]=d("span",{class:"file-btn"},"Choose File",-1)),t.value?(v(),w("span",xe,W(t.value),1)):q("",!0)]),d("input",{type:"file",id:"file-upload",onChange:n},null,32)]))}}),Me=I(Ee,[["__scopeId","data-v-401ee493"]]),Te={key:0,class:"modal-overlay"},Ve={class:"modal-content"},$e={class:"modal-body"},Se=M({__name:"CardDetails",props:{isVisible:{},item:{}},emits:["close","save"],setup(e,{emit:t}){const n=ne(),o=e,s=t,i=k(o.item.name),l=k(o.item.description),r=k(o.item.completed),u=k(null);de(()=>o.isVisible,p=>{p&&(i.value=o.item.name,l.value=o.item.description,r.value=o.item.completed,u.value=o.item.imageBase64)});function f(){s("close")}function m(){o.item.name=i.value,o.item.description=l.value,o.item.completed=r.value,o.item.imageBase64=u.value,n.saveCollection(),s("save")}return(p,a)=>p.isVisible?(v(),w("div",Te,[d("div",Ve,[a[6]||(a[6]=d("h2",null,"Edit Item Details",-1)),d("div",$e,[a[4]||(a[4]=d("label",{for:"name"},"Name:",-1)),D(d("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=c=>i.value=c),id:"name"},null,512),[[z,i.value]]),a[5]||(a[5]=d("label",{for:"description"},"Description:",-1)),D(d("textarea",{"onUpdate:modelValue":a[1]||(a[1]=c=>l.value=c),id:"description"},null,512),[[z,l.value]]),d("label",null,[x(_e,{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=c=>r.value=c)},null,8,["modelValue"])]),x(Me,{modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=c=>u.value=c)},null,8,["modelValue"])]),d("div",{class:"modal-actions"},[d("button",{onClick:f,class:"secondary-btn"},"Cancel"),d("button",{onClick:m,class:"primary-btn"},"Save")])])])):q("",!0)}}),Ne=I(Se,[["__scopeId","data-v-d008230c"]]),Ie=["src"],Be=["title"],Oe={class:"card-title"},De={class:"card-description"},We=M({__name:"Card",props:{collectionItem:{}},setup(e){const t=e,n=k(!1);function o(){n.value=!0}function s(){n.value=!1}function i(){n.value=!1}return(l,r)=>(v(),w(oe,null,[d("div",{onClick:o,class:te(["card",{"card-incomplete":!l.collectionItem.completed}])},[d("img",{src:l.collectionItem.imageBase64??"https://via.placeholder.com/300x200",alt:"Card image",class:"card-image"},null,8,Ie),l.collectionItem.completed?q("",!0):(v(),ue(P(ge),{key:0,icon:["fas","lock"],class:"lock-icon"})),d("div",{class:"card-content",title:t.collectionItem.name??"New item"},[d("h3",Oe,W(t.collectionItem.name??"New item"),1),d("p",De,W(t.collectionItem.description),1)],8,Be)],2),x(Ne,{"is-visible":n.value,item:l.collectionItem,onSave:i,onClose:s},null,8,["is-visible","item"])],64))}}),Ae=I(We,[["__scopeId","data-v-d88434fa"]]),Le={class:"card-list"},Pe=M({__name:"CollectionItems",props:{items:{}},setup(e){const t=e;return(n,o)=>(v(),w("div",Le,[(v(!0),w(oe,null,me(t.items,s=>(v(),w("div",null,[x(Ae,{"collection-item":s},null,8,["collection-item"])]))),256))]))}}),Fe=I(Pe,[["__scopeId","data-v-2690130d"]]),se=new Set,h=new WeakMap,$=new WeakMap,E=new WeakMap,Y=new WeakMap,Re=new WeakMap,S=new WeakMap,F=new WeakMap,O=new WeakSet;let C,Q=0,G=0;const _="__aa_tgt",A="__aa_del",R="__aa_new",Ue=e=>{const t=qe(e);t&&t.forEach(n=>Qe(n))},je=e=>{e.forEach(t=>{t.target===C&&Ye(),h.has(t.target)&&T(t.target)})};function ze(e){const t=Y.get(e);t==null||t.disconnect();let n=h.get(e),o=0;const s=5;n||(n=N(e),h.set(e,n));const{offsetWidth:i,offsetHeight:l}=C,u=[n.top-s,i-(n.left+s+n.width),l-(n.top+s+n.height),n.left-s].map(m=>`${-1*Math.floor(m)}px`).join(" "),f=new IntersectionObserver(()=>{++o>1&&T(e)},{root:C,threshold:1,rootMargin:u});f.observe(e),Y.set(e,f)}function T(e){clearTimeout(F.get(e));const t=U(e),n=L(t)?500:t.duration;F.set(e,setTimeout(async()=>{const o=E.get(e);try{await(o==null?void 0:o.finished),h.set(e,N(e)),ze(e)}catch{}},n))}function Ye(){clearTimeout(F.get(C)),F.set(C,setTimeout(()=>{se.forEach(e=>re(e,t=>ie(()=>T(t))))},100))}function Xe(e){setTimeout(()=>{Re.set(e,setInterval(()=>ie(T.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function ie(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let X,V;const He=typeof window<"u"&&"ResizeObserver"in window;He&&(C=document.documentElement,X=new MutationObserver(Ue),V=new ResizeObserver(je),window.addEventListener("scroll",()=>{G=window.scrollY,Q=window.scrollX}),V.observe(C));function qe(e){return e.reduce((o,s)=>[...o,...Array.from(s.addedNodes),...Array.from(s.removedNodes)],[]).every(o=>o.nodeName==="#comment")?!1:e.reduce((o,s)=>{if(o===!1)return!1;if(s.target instanceof Element){if(j(s.target),!o.has(s.target)){o.add(s.target);for(let i=0;i<s.target.children.length;i++){const l=s.target.children.item(i);if(l){if(A in l)return!1;j(s.target,l),o.add(l)}}}if(s.removedNodes.length)for(let i=0;i<s.removedNodes.length;i++){const l=s.removedNodes[i];if(A in l)return!1;l instanceof Element&&(o.add(l),j(s.target,l),$.set(l,[s.previousSibling,s.nextSibling]))}}return o},new Set)}function j(e,t){!t&&!(_ in e)?Object.defineProperty(e,_,{value:e}):t&&!(_ in t)&&Object.defineProperty(t,_,{value:e})}function Qe(e){var t;const n=e.isConnected,o=h.has(e);n&&$.has(e)&&$.delete(e),E.has(e)&&((t=E.get(e))===null||t===void 0||t.cancel()),R in e?Z(e):o&&n?Je(e):o&&!n?Ke(e):Z(e)}function g(e){return Number(e.replace(/[^0-9.\-]/g,""))}function Ge(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function N(e){const t=e.getBoundingClientRect(),{x:n,y:o}=Ge(e);return{top:t.top+o,left:t.left+n,width:t.width,height:t.height}}function ae(e,t,n){let o=t.width,s=t.height,i=n.width,l=n.height;const r=getComputedStyle(e);if(r.getPropertyValue("box-sizing")==="content-box"){const f=g(r.paddingTop)+g(r.paddingBottom)+g(r.borderTopWidth)+g(r.borderBottomWidth),m=g(r.paddingLeft)+g(r.paddingRight)+g(r.borderRightWidth)+g(r.borderLeftWidth);o-=m,i-=m,s-=f,l-=f}return[o,i,s,l].map(Math.round)}function U(e){return _ in e&&S.has(e[_])?S.get(e[_]):{duration:250,easing:"ease-in-out"}}function le(e){if(_ in e)return e[_]}function J(e){const t=le(e);return t?O.has(t):!1}function re(e,...t){t.forEach(n=>n(e,S.has(e)));for(let n=0;n<e.children.length;n++){const o=e.children.item(n);o&&t.forEach(s=>s(o,S.has(o)))}}function K(e){return Array.isArray(e)?e:[e]}function L(e){return typeof e=="function"}function Je(e){const t=h.get(e),n=N(e);if(!J(e))return h.set(e,n);let o;if(!t)return;const s=U(e);if(typeof s!="function"){const i=t.left-n.left,l=t.top-n.top,[r,u,f,m]=ae(e,t,n),p={transform:`translate(${i}px, ${l}px)`},a={transform:"translate(0, 0)"};r!==u&&(p.width=`${r}px`,a.width=`${u}px`),f!==m&&(p.height=`${f}px`,a.height=`${m}px`),o=e.animate([p,a],{duration:s.duration,easing:s.easing})}else{const[i]=K(s(e,"remain",t,n));o=new Animation(i),o.play()}E.set(e,o),h.set(e,n),o.addEventListener("finish",T.bind(null,e))}function Z(e){R in e&&delete e[R];const t=N(e);h.set(e,t);const n=U(e);if(!J(e))return;let o;if(typeof n!="function")o=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[s]=K(n(e,"add",t));o=new Animation(s),o.play()}E.set(e,o),o.addEventListener("finish",T.bind(null,e))}function ee(e,t){var n;e.remove(),h.delete(e),$.delete(e),E.delete(e),(n=Y.get(e))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(A in e&&delete e[A],Object.defineProperty(e,R,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const o in t)e.style[o]=""},0)}function Ke(e){var t;if(!$.has(e)||!h.has(e))return;const[n,o]=$.get(e);Object.defineProperty(e,A,{value:!0,configurable:!0});const s=window.scrollX,i=window.scrollY;if(o&&o.parentNode&&o.parentNode instanceof Element?o.parentNode.insertBefore(e,o):n&&n.parentNode?n.parentNode.appendChild(e):(t=le(e))===null||t===void 0||t.appendChild(e),!J(e))return ee(e);const[l,r,u,f]=et(e),m=U(e),p=h.get(e);(s!==Q||i!==G)&&Ze(e,s,i,m);let a,c={position:"absolute",top:`${l}px`,left:`${r}px`,width:`${u}px`,height:`${f}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!L(m))Object.assign(e.style,c),a=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:m.duration,easing:"ease-out"});else{const[b,y]=K(m(e,"remove",p));(y==null?void 0:y.styleReset)!==!1&&(c=(y==null?void 0:y.styleReset)||c,Object.assign(e.style,c)),a=new Animation(b),a.play()}E.set(e,a),a.addEventListener("finish",ee.bind(null,e,c))}function Ze(e,t,n,o){const s=Q-t,i=G-n,l=document.documentElement.style.scrollBehavior;if(getComputedStyle(C).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+s,window.scrollY+i),!e.parentElement)return;const u=e.parentElement;let f=u.clientHeight,m=u.clientWidth;const p=performance.now();function a(){requestAnimationFrame(()=>{if(!L(o)){const c=f-u.clientHeight,b=m-u.clientWidth;p+o.duration>performance.now()?(window.scrollTo({left:window.scrollX-b,top:window.scrollY-c}),f=u.clientHeight,m=u.clientWidth,a()):document.documentElement.style.scrollBehavior=l}})}a()}function et(e){const t=h.get(e),[n,,o]=ae(e,t,N(e));let s=e.parentElement;for(;s&&(getComputedStyle(s).position==="static"||s instanceof HTMLBodyElement);)s=s.parentElement;s||(s=document.body);const i=getComputedStyle(s),l=h.get(s)||N(s),r=Math.round(t.top-l.top)-g(i.borderTopWidth),u=Math.round(t.left-l.left)-g(i.borderLeftWidth);return[r,u,n,o]}function tt(e,t={}){return X&&V&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!L(t)&&!t.disrespectUserMotionPreference||(O.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),re(e,T,Xe,s=>V==null?void 0:V.observe(s)),L(t)?S.set(e,t):S.set(e,{duration:250,easing:"ease-in-out",...t}),X.observe(e,{childList:!0}),se.add(e))),Object.freeze({parent:e,enable:()=>{O.add(e)},disable:()=>{O.delete(e)},isEnabled:()=>O.has(e)})}const ot={mounted:(e,t)=>{tt(e,t.value||{})},getSSRProps:()=>({})},nt=ot,st=M({__name:"ToggleButton",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=H(e,"modelValue");function n(){t.value=!t.value}return(o,s)=>(v(),w("button",{class:te(["toggle-btn",{checked:!t.value}]),onClick:n},W(t.value?"Hide missing":"Show missing"),3))}}),it=I(st,[["__scopeId","data-v-972e48ca"]]),at={class:"collection"},lt={class:"collection-header"},rt=["title"],ct={class:"search-filter"},mt=M({__name:"Collection",props:{id:{}},setup(e){var m,p;const t=e,n=ne();n.loadCollection();const o=t.id,{collections:s}=fe(n),i=(p=(m=s.value)==null?void 0:m.find(a=>a.name==o))==null?void 0:p.items,l=pe(()=>{let a=i;return u.value||(a=a==null?void 0:a.filter(c=>c.completed===!0)),r.value?a==null?void 0:a.filter(c=>{var b;return c.name.toLowerCase().includes(r.value.toLowerCase())||((b=c.description)==null?void 0:b.toLowerCase().includes(r.value.toLowerCase()))}):a}),r=k(null),u=k(!0);function f(){const a={id:crypto.randomUUID(),name:"New collection item",description:null,completed:!1,imageBase64:null};i==null||i.push(a),n.saveCollection()}return(a,c)=>{var b,y;return v(),w("div",at,[d("div",lt,[d("h1",{class:"collection-title",title:P(o)},"Your "+W(P(o)),9,rt),x(it,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=B=>u.value=B)},{default:he(()=>c[2]||(c[2]=[ve("Show missing?")])),_:1},8,["modelValue"]),d("div",ct,[D(d("input",{"onUpdate:modelValue":c[1]||(c[1]=B=>r.value=B),type:"text",placeholder:"Search by name or description..."},null,512),[[z,r.value]])]),d("button",{onClick:f,class:"primary-btn"},"Create new Item")]),x(we,{"completed-items":((b=l.value)==null?void 0:b.filter(B=>B.completed==!0).length)??0,"total-items":((y=l.value)==null?void 0:y.length)??0},null,8,["completed-items","total-items"]),D(x(Fe,{items:l.value??[]},null,8,["items"]),[[P(nt)]])])}}});export{mt as default};
