import{d as x,u as Y,o as v,c as g,w as S,v as me,a as c,_ as E,t as T,b as W,m as fe,r as y,e as ne,F,f as Q,g as se,h as R,i as pe,j as k,k as ve,l as U,n as ie,s as ge,p as he,q as be}from"./index-CScCdbWE.js";import{u as le,F as we,P as _e}from"./ProgressBar-CQVVXJl6.js";const ye={class:"checkbox-container"},Ce=x({__name:"Checkbox",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Y(e,"modelValue");return(n,o)=>(v(),g("label",ye,[S(c("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s)},null,512),[[me,t.value]]),o[1]||(o[1]=c("span",{class:"checkmark"},null,-1)),o[2]||(o[2]=c("span",{class:"checkbox-label"},"Completed",-1))]))}}),ke=E(Ce,[["__scopeId","data-v-047e0793"]]),Ve={class:"file-input-container"},xe={class:"file-input-label",for:"file-upload"},Te={key:0,class:"file-name"},$e=x({__name:"FileInput",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Y(e,"modelValue");function n(o){const s=o.target.files[0];if(s){const l=new FileReader;l.onload=()=>{typeof l.result=="string"&&(t.value=l.result)},l.readAsDataURL(s)}}return(o,s)=>(v(),g("div",Ve,[c("label",xe,[s[0]||(s[0]=c("span",{class:"file-btn"},"Choose File",-1)),t.value?(v(),g("span",Te,T(t.value),1)):W("",!0)]),c("input",{type:"file",id:"file-upload",onChange:n},null,32)]))}}),Ee=E($e,[["__scopeId","data-v-401ee493"]]),Me={class:"tags-section"},Ie={class:"tags-list"},Se=["onClick"],Ne={class:"add-tag"},Be=x({__name:"Tag",props:fe({modelValue:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=y(""),o=Y(e,"modelValue");o.value||(o.value=[]),ne(()=>t.modelValue,i=>{o.value=i??[]});function s(){const i=n.value.trim();i&&!o.value.includes(i)&&(o.value.push(i),n.value="")}function l(i){o.value.splice(i,1)}return(i,r)=>(v(),g("div",Me,[r[1]||(r[1]=c("label",{for:"tag-input",class:"tags-label"},"Tags:",-1)),c("ul",Ie,[(v(!0),g(F,null,Q(o.value,(d,m)=>(v(),g("li",{key:m,class:"tag"},[se(T(d)+" ",1),c("button",{class:"remove-btn delete-btn",onClick:f=>l(m)},"×",8,Se)]))),128))]),c("div",Ne,[S(c("input",{id:"tag-input","onUpdate:modelValue":r[0]||(r[0]=d=>n.value=d),onKeyup:pe(s,["enter"]),type:"text",placeholder:"Add a tag"},null,544),[[R,n.value]]),c("button",{class:"primary-btn",onClick:s},"Add")])]))}}),Oe=E(Be,[["__scopeId","data-v-2a2cc0c0"]]),Ae={key:0,class:"modal-overlay"},De={class:"modal-content"},We={class:"modal-body"},Le=x({__name:"CardDetails",props:{isVisible:{},item:{}},emits:["close","save"],setup(e,{emit:t}){const n=le(),o=e,s=t,l=y(o.item.name),i=y(o.item.description),r=y(o.item.completed),d=y(null),m=y(o.item.tags??[]);ne(()=>o.isVisible,u=>{u&&(l.value=o.item.name,i.value=o.item.description,r.value=o.item.completed,d.value=o.item.imageBase64,m.value=o.item.tags??[])});function f(){s("close")}function b(){o.item.name=l.value,o.item.description=i.value,o.item.completed=r.value,o.item.imageBase64=d.value,o.item.tags=m.value,n.saveCollection(),s("save")}return(u,a)=>u.isVisible?(v(),g("div",Ae,[c("div",De,[a[7]||(a[7]=c("h2",null,"Edit Item Details",-1)),c("div",We,[a[5]||(a[5]=c("label",{for:"name"},"Name:",-1)),S(c("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=p=>l.value=p),id:"name"},null,512),[[R,l.value]]),a[6]||(a[6]=c("label",{for:"description"},"Description:",-1)),S(c("textarea",{"onUpdate:modelValue":a[1]||(a[1]=p=>i.value=p),id:"description"},null,512),[[R,i.value]]),k(Oe,{modelValue:m.value,"onUpdate:modelValue":a[2]||(a[2]=p=>m.value=p)},null,8,["modelValue"]),c("label",null,[k(ke,{modelValue:r.value,"onUpdate:modelValue":a[3]||(a[3]=p=>r.value=p)},null,8,["modelValue"])]),k(Ee,{modelValue:d.value,"onUpdate:modelValue":a[4]||(a[4]=p=>d.value=p)},null,8,["modelValue"])]),c("div",{class:"modal-actions"},[c("button",{onClick:f,class:"secondary-btn"},"Cancel"),c("button",{onClick:b,class:"primary-btn"},"Save")])])])):W("",!0)}}),Pe=E(Le,[["__scopeId","data-v-e9141bbe"]]),Ue=["src"],Fe=["title"],Re={class:"card-title"},je={key:0},ze={class:"tags-list"},Ye=["title"],Xe={class:"card-description"},He=x({__name:"Card",props:{collectionItem:{}},setup(e){const t=e,n=y(!1);function o(){n.value=!0}function s(){n.value=!1}function l(){n.value=!1}return(i,r)=>(v(),g(F,null,[c("div",{onClick:o,class:ie(["card",{"card-incomplete":!i.collectionItem.completed}])},[c("img",{src:i.collectionItem.imageBase64??"https://via.placeholder.com/300x200",alt:"Card image",class:"card-image"},null,8,Ue),i.collectionItem.completed?W("",!0):(v(),ve(U(we),{key:0,icon:["fas","lock"],class:"lock-icon"})),c("div",{class:"card-content",title:t.collectionItem.name??"New item"},[c("h3",Re,T(t.collectionItem.name??"New item"),1),t.collectionItem.tags?(v(),g("div",je,[c("ul",ze,[(v(!0),g(F,null,Q(t.collectionItem.tags.slice(0,2),(d,m)=>(v(),g("li",{key:m,class:"tag"},[c("p",null,T(d),1)]))),128)),t.collectionItem.tags.length>2?(v(),g("li",{key:0,class:"tag tag-more",title:t.collectionItem.tags.slice(2).join(", ")}," … ",8,Ye)):W("",!0)])])):W("",!0),c("p",Xe,T(t.collectionItem.description),1)],8,Fe)],2),k(Pe,{"is-visible":n.value,item:i.collectionItem,onSave:l,onClose:s},null,8,["is-visible","item"])],64))}}),qe=E(He,[["__scopeId","data-v-89dc0f1b"]]),Ke={class:"card-list"},Qe=x({__name:"CollectionItems",props:{items:{}},setup(e){const t=e;return(n,o)=>(v(),g("div",Ke,[(v(!0),g(F,null,Q(t.items,s=>(v(),g("div",null,[k(qe,{"collection-item":s},null,8,["collection-item"])]))),256))]))}}),Ge=E(Qe,[["__scopeId","data-v-2690130d"]]),ae=new Set,h=new WeakMap,N=new WeakMap,$=new WeakMap,q=new WeakMap,Je=new WeakMap,B=new WeakMap,j=new WeakMap,D=new WeakSet;let V,G=0,J=0;const C="__aa_tgt",L="__aa_del",z="__aa_new",Ze=e=>{const t=it(e);t&&t.forEach(n=>lt(n))},et=e=>{e.forEach(t=>{t.target===V&&ot(),h.has(t.target)&&M(t.target)})};function tt(e){const t=q.get(e);t==null||t.disconnect();let n=h.get(e),o=0;const s=5;n||(n=O(e),h.set(e,n));const{offsetWidth:l,offsetHeight:i}=V,d=[n.top-s,l-(n.left+s+n.width),i-(n.top+s+n.height),n.left-s].map(f=>`${-1*Math.floor(f)}px`).join(" "),m=new IntersectionObserver(()=>{++o>1&&M(e)},{root:V,threshold:1,rootMargin:d});m.observe(e),q.set(e,m)}function M(e){clearTimeout(j.get(e));const t=X(e),n=P(t)?500:t.duration;j.set(e,setTimeout(async()=>{const o=$.get(e);try{await(o==null?void 0:o.finished),h.set(e,O(e)),tt(e)}catch{}},n))}function ot(){clearTimeout(j.get(V)),j.set(V,setTimeout(()=>{ae.forEach(e=>ue(e,t=>re(()=>M(t))))},100))}function nt(e){setTimeout(()=>{Je.set(e,setInterval(()=>re(M.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function re(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let K,I;const st=typeof window<"u"&&"ResizeObserver"in window;st&&(V=document.documentElement,K=new MutationObserver(Ze),I=new ResizeObserver(et),window.addEventListener("scroll",()=>{J=window.scrollY,G=window.scrollX}),I.observe(V));function it(e){return e.reduce((o,s)=>[...o,...Array.from(s.addedNodes),...Array.from(s.removedNodes)],[]).every(o=>o.nodeName==="#comment")?!1:e.reduce((o,s)=>{if(o===!1)return!1;if(s.target instanceof Element){if(H(s.target),!o.has(s.target)){o.add(s.target);for(let l=0;l<s.target.children.length;l++){const i=s.target.children.item(l);if(i){if(L in i)return!1;H(s.target,i),o.add(i)}}}if(s.removedNodes.length)for(let l=0;l<s.removedNodes.length;l++){const i=s.removedNodes[l];if(L in i)return!1;i instanceof Element&&(o.add(i),H(s.target,i),N.set(i,[s.previousSibling,s.nextSibling]))}}return o},new Set)}function H(e,t){!t&&!(C in e)?Object.defineProperty(e,C,{value:e}):t&&!(C in t)&&Object.defineProperty(t,C,{value:e})}function lt(e){var t;const n=e.isConnected,o=h.has(e);n&&N.has(e)&&N.delete(e),$.has(e)&&((t=$.get(e))===null||t===void 0||t.cancel()),z in e?te(e):o&&n?rt(e):o&&!n?ct(e):te(e)}function _(e){return Number(e.replace(/[^0-9.\-]/g,""))}function at(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function O(e){const t=e.getBoundingClientRect(),{x:n,y:o}=at(e);return{top:t.top+o,left:t.left+n,width:t.width,height:t.height}}function ce(e,t,n){let o=t.width,s=t.height,l=n.width,i=n.height;const r=getComputedStyle(e);if(r.getPropertyValue("box-sizing")==="content-box"){const m=_(r.paddingTop)+_(r.paddingBottom)+_(r.borderTopWidth)+_(r.borderBottomWidth),f=_(r.paddingLeft)+_(r.paddingRight)+_(r.borderRightWidth)+_(r.borderLeftWidth);o-=f,l-=f,s-=m,i-=m}return[o,l,s,i].map(Math.round)}function X(e){return C in e&&B.has(e[C])?B.get(e[C]):{duration:250,easing:"ease-in-out"}}function de(e){if(C in e)return e[C]}function Z(e){const t=de(e);return t?D.has(t):!1}function ue(e,...t){t.forEach(n=>n(e,B.has(e)));for(let n=0;n<e.children.length;n++){const o=e.children.item(n);o&&t.forEach(s=>s(o,B.has(o)))}}function ee(e){return Array.isArray(e)?e:[e]}function P(e){return typeof e=="function"}function rt(e){const t=h.get(e),n=O(e);if(!Z(e))return h.set(e,n);let o;if(!t)return;const s=X(e);if(typeof s!="function"){const l=t.left-n.left,i=t.top-n.top,[r,d,m,f]=ce(e,t,n),b={transform:`translate(${l}px, ${i}px)`},u={transform:"translate(0, 0)"};r!==d&&(b.width=`${r}px`,u.width=`${d}px`),m!==f&&(b.height=`${m}px`,u.height=`${f}px`),o=e.animate([b,u],{duration:s.duration,easing:s.easing})}else{const[l]=ee(s(e,"remain",t,n));o=new Animation(l),o.play()}$.set(e,o),h.set(e,n),o.addEventListener("finish",M.bind(null,e))}function te(e){z in e&&delete e[z];const t=O(e);h.set(e,t);const n=X(e);if(!Z(e))return;let o;if(typeof n!="function")o=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[s]=ee(n(e,"add",t));o=new Animation(s),o.play()}$.set(e,o),o.addEventListener("finish",M.bind(null,e))}function oe(e,t){var n;e.remove(),h.delete(e),N.delete(e),$.delete(e),(n=q.get(e))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(L in e&&delete e[L],Object.defineProperty(e,z,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const o in t)e.style[o]=""},0)}function ct(e){var t;if(!N.has(e)||!h.has(e))return;const[n,o]=N.get(e);Object.defineProperty(e,L,{value:!0,configurable:!0});const s=window.scrollX,l=window.scrollY;if(o&&o.parentNode&&o.parentNode instanceof Element?o.parentNode.insertBefore(e,o):n&&n.parentNode?n.parentNode.appendChild(e):(t=de(e))===null||t===void 0||t.appendChild(e),!Z(e))return oe(e);const[i,r,d,m]=ut(e),f=X(e),b=h.get(e);(s!==G||l!==J)&&dt(e,s,l,f);let u,a={position:"absolute",top:`${i}px`,left:`${r}px`,width:`${d}px`,height:`${m}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!P(f))Object.assign(e.style,a),u=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:f.duration,easing:"ease-out"});else{const[p,w]=ee(f(e,"remove",b));(w==null?void 0:w.styleReset)!==!1&&(a=(w==null?void 0:w.styleReset)||a,Object.assign(e.style,a)),u=new Animation(p),u.play()}$.set(e,u),u.addEventListener("finish",oe.bind(null,e,a))}function dt(e,t,n,o){const s=G-t,l=J-n,i=document.documentElement.style.scrollBehavior;if(getComputedStyle(V).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+s,window.scrollY+l),!e.parentElement)return;const d=e.parentElement;let m=d.clientHeight,f=d.clientWidth;const b=performance.now();function u(){requestAnimationFrame(()=>{if(!P(o)){const a=m-d.clientHeight,p=f-d.clientWidth;b+o.duration>performance.now()?(window.scrollTo({left:window.scrollX-p,top:window.scrollY-a}),m=d.clientHeight,f=d.clientWidth,u()):document.documentElement.style.scrollBehavior=i}})}u()}function ut(e){const t=h.get(e),[n,,o]=ce(e,t,O(e));let s=e.parentElement;for(;s&&(getComputedStyle(s).position==="static"||s instanceof HTMLBodyElement);)s=s.parentElement;s||(s=document.body);const l=getComputedStyle(s),i=h.get(s)||O(s),r=Math.round(t.top-i.top)-_(l.borderTopWidth),d=Math.round(t.left-i.left)-_(l.borderLeftWidth);return[r,d,n,o]}function mt(e,t={}){return K&&I&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!P(t)&&!t.disrespectUserMotionPreference||(D.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),ue(e,M,nt,s=>I==null?void 0:I.observe(s)),P(t)?B.set(e,t):B.set(e,{duration:250,easing:"ease-in-out",...t}),K.observe(e,{childList:!0}),ae.add(e))),Object.freeze({parent:e,enable:()=>{D.add(e)},disable:()=>{D.delete(e)},isEnabled:()=>D.has(e)})}const ft={mounted:(e,t)=>{mt(e,t.value||{})},getSSRProps:()=>({})},pt=ft,vt=x({__name:"ToggleButton",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Y(e,"modelValue");function n(){t.value=!t.value}return(o,s)=>(v(),g("button",{class:ie(["toggle-btn",{checked:!t.value}]),onClick:n},T(t.value?"Hide missing":"Show missing"),3))}}),gt=E(vt,[["__scopeId","data-v-972e48ca"]]),ht={class:"collection"},bt={class:"collection-header"},wt=["title"],_t={class:"search-filter"},kt=x({__name:"Collection",props:{id:{}},setup(e){var f,b;const t=e,n=le();n.loadCollection();const o=t.id,{collections:s}=ge(n),l=(b=(f=s.value)==null?void 0:f.find(u=>u.name==o))==null?void 0:b.items,i=he(()=>{let u=l;return d.value||(u=u==null?void 0:u.filter(a=>a.completed===!0)),r.value?u==null?void 0:u.filter(a=>{var p,w;return a.name.toLowerCase().includes(r.value.toLowerCase())||((p=a.description)==null?void 0:p.toLowerCase().includes(r.value.toLowerCase()))||((w=a.tags)==null?void 0:w.includes(r.value))}):u}),r=y(null),d=y(!0);function m(){const u={id:crypto.randomUUID(),name:"New collection item",description:null,completed:!1,imageBase64:null,tags:[]};l==null||l.push(u),n.saveCollection()}return(u,a)=>{var p,w;return v(),g("div",ht,[c("div",bt,[c("h1",{class:"collection-title",title:U(o)},"Your "+T(U(o)),9,wt),k(gt,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=A=>d.value=A)},{default:be(()=>a[2]||(a[2]=[se("Show missing?")])),_:1},8,["modelValue"]),c("div",_t,[S(c("input",{"onUpdate:modelValue":a[1]||(a[1]=A=>r.value=A),type:"text",placeholder:"Search by name or description..."},null,512),[[R,r.value]])]),c("button",{onClick:m,class:"primary-btn"},"Create new Item")]),k(_e,{"completed-items":((p=i.value)==null?void 0:p.filter(A=>A.completed==!0).length)??0,"total-items":((w=i.value)==null?void 0:w.length)??0},null,8,["completed-items","total-items"]),S(k(Ge,{items:i.value??[]},null,8,["items"]),[[U(pt)]])])}}});export{kt as default};
